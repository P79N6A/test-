!function(e){function t(t){for(var a,o,i=t[0],u=t[1],c=t[2],f=0,d=[];f<i.length;f++)o=i[f],l[o]&&d.push(l[o][0]),l[o]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(s&&s(t);d.length;)d.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==l[u]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},l={5:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var s=u;r.push([692,1,0]),n()}({692:function(e,t,n){"use strict";var a=o(n(1)),l=o(n(8)),r=o(n(693));function o(e){return e&&e.__esModule?e:{default:e}}n(724),n(726),l.default.render(a.default.createElement(r.default,null),document.getElementById("app"))},693:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=h(r),i=n(24),u=h(n(65)),c=h(n(694)),s=h(n(695)),f=h(n(696)),d=h(n(697)),m=h(n(66)),p=h(n(57));function h(e){return e&&e.__esModule?e:{default:e}}n(744);var y=i.Tabs.TabPane,b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currTabKey:"MYBZG",isLoading:!1,hasBZGData:!1,myBZGDataSource:[],allBZGDataSource:[]},n.myBZGData=[],n.myFilteredData=[],n.allBZGData=[],n.allFilteredData=[],n.myColumnsConfig=n.getMyBZGColumns(),n.allColumnsConfig=n.getAllBZGColumns(),n._applyJoinBZGView=void 0,n._handleTabClick=n._handleTabClick.bind(n),n._handleTabAllBZGroup=n._handleTabAllBZGroup.bind(n),n._handleMyBZGSearchBtnClick=n._handleMyBZGSearchBtnClick.bind(n),n._handleAllBZGSearchBtnClick=n._handleAllBZGSearchBtnClick.bind(n),n._handleApplyJoinBZGConfirm=n._handleApplyJoinBZGConfirm.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"componentDidMount",value:function(){this.getBZGData()}},{key:"componentWillUnmount",value:function(){}},{key:"getBZGData",value:function(){var e=this;this.setState({isLoading:!0}),f.default.getMyBZGList().then(function(t){var n=t.map(function(e){return e.key=e.groupId,e});e.myBZGData=n,e.myFilteredData=n,e.setState({isLoading:!1,myBZGDataSource:n,hasBZGData:n.length>0})}).catch(function(t){console.log(t),e.setState({isLoading:!1})})}},{key:"getAllBZGData",value:function(){var e=this;this.setState({isLoading:!0}),f.default.getAllBZGList().then(function(t){var n=t.map(function(e){return e.key=e.groupId,e});e.allBZGData=n,e.allFilteredData=n,e.setState({isLoading:!1,allBZGDataSource:n})}).catch(function(t){console.log(t),e.setState({isLoading:!1})})}},{key:"getMyBZGColumns",value:function(){var e=this;return d.default.map(function(t){var n=t.title,a=t.key,l=t.sorter,r={title:n,key:a,dataIndex:a};switch(l&&(r.sorter=function(e,t){return"number"==typeof e[a]?e[a]-t[a]:"string"==typeof e[a]?e[a].localeCompare(t[a]):e[a].toString().localeCompare(t[a].toString())}),a){case"action":r.render=function(t,n){return o.default.createElement("span",null,o.default.createElement("a",{href:"javascript:;",onClick:e._handleMyBZGColumnClick.bind(e,n)},"查看详情"))};break;case"createTime":case"updateTime":r.render=function(e){return p.default.formattedDate(e)}}return r})}},{key:"getAllBZGColumns",value:function(){var e=this;return d.default.map(function(t){var n=t.title,a=t.key,l=t.sorter,r={title:n,key:a,dataIndex:a};switch(l&&(r.sorter=function(e,t){return"number"==typeof e[a]?e[a]-t[a]:"string"==typeof e[a]?e[a].localeCompare(t[a]):e[a].toString().localeCompare(t[a].toString())}),a){case"action":r.render=function(t,n){return o.default.createElement("span",null,o.default.createElement("a",{href:"javascript:;",onClick:e._handleAllBZColumnClick.bind(e,n)},"申请加入"))};break;case"createTime":case"updateTime":r.render=function(e){return p.default.formattedDate(e)}}return r})}},{key:"_handleMyBZGColumnClick",value:function(e){console.log(e),location.href="./bzgmanage.html?bzgId="+e.groupId}},{key:"_handleAllBZColumnClick",value:function(e){this._applyJoinBZGView.open(e)}},{key:"_handleTabAllBZGroup",value:function(){this.setState({currTabKey:"ALLBZG"}),this.getAllBZGData()}},{key:"_handleTabClick",value:function(e){switch(this.setState({currTabKey:e}),e){case"ALLBZG":this.getAllBZGData();break;case"MYBZG":default:this.getBZGData()}}},{key:"_handleMyBZGSearchBtnClick",value:function(e){this.setState({isLoading:!0});var t=void 0;""===e&&(t=this.myFilteredData),t=this.myFilteredData.filter(function(t){var n=function(n){return 0===d.default.filter(function(e){return e.key===n}).length?"continue":"createTime"===n||"updateTime"===n?"continue":t[n].toString().indexOf(e)>-1?{v:!0}:void 0};for(var l in t){var r=n(l);switch(r){case"continue":continue;default:if("object"===(void 0===r?"undefined":a(r)))return r.v}}}),this.setState({isLoading:!1,myBZGDataSource:t})}},{key:"_handleAllBZGSearchBtnClick",value:function(e){this.setState({isLoading:!0});var t=void 0;""===e&&(t=this.allFilteredData),t=this.allFilteredData.filter(function(t){var n=function(n){return 0===d.default.filter(function(e){return e.key===n}).length?"continue":"createTime"===n||"updateTime"===n?"continue":t[n].toString().indexOf(e)>-1?{v:!0}:void 0};for(var l in t){var r=n(l);switch(r){case"continue":continue;default:if("object"===(void 0===r?"undefined":a(r)))return r.v}}}),this.setState({isLoading:!1,allBZGDataSource:t})}},{key:"_handleApplyJoinBZGConfirm",value:function(e){var t=this;console.log(e);var n="apply_join_BZG_notif_key";new Promise(function(e,t){10*Math.random()>5?e("12345"):t("mock error")}).then(function(e){i.notification.close(n),i.notification.success({key:n,duration:0,message:o.default.createElement("div",null,"提交成功，工单编号为",o.default.createElement("span",{style:{marginLeft:10,color:"#1890ff"}},e))}),t._applyJoinBZGView.close()}).catch(function(e){console.log(e),i.notification.close(n),i.notification.error({key:n,duration:0,message:o.default.createElement("div",null,"服务器异常，请稍候重试")})})}},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.currTabKey,l=t.myBZGDataSource,r=t.allBZGDataSource,f=t.hasBZGData;return o.default.createElement(u.default,{headerMenuKeys:["ywzlb"],sliderMenuKeys:["ywzlb"],sliderConfig:m.default.bzGroup},o.default.createElement("div",{className:"page-title"},o.default.createElement("h2",null,"业务组列表")),o.default.createElement("div",null,o.default.createElement(i.Divider,{orientation:"left"})),o.default.createElement("div",{className:"bzg-tab-container"},o.default.createElement(i.Tabs,{defaultActiveKey:a,activeKey:a,onTabClick:this._handleTabClick},o.default.createElement(y,{tab:"我的业务组",key:"MYBZG"},f||n?void 0:o.default.createElement("div",{className:"empty-tips-container"},o.default.createElement(i.Alert,{message:o.default.createElement("span",null,"您当前不在任何业务组中，请先 ",o.default.createElement("a",{href:"javascript:;",onClick:this._handleTabAllBZGroup},"加入业务组")),type:"error",style:{textAlign:"center"}})),f?o.default.createElement("div",{className:"bz-table-options-container"},o.default.createElement(c.default,{style:{margin:"20px 0"},onSearchBtnClick:this._handleMyBZGSearchBtnClick})):void 0,f?o.default.createElement(i.Table,{bordered:!0,columns:this.myColumnsConfig,dataSource:l,loading:n,pagination:{pageSizeOptions:["5","10","20"],showSizeChanger:!0,showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e+" items"}}}):void 0),o.default.createElement(y,{tab:"加入业务组",key:"ALLBZG"},o.default.createElement("div",{className:"bz-table-options-container"},o.default.createElement(c.default,{style:{margin:"20px 0"},onSearchBtnClick:this._handleAllBZGSearchBtnClick})),o.default.createElement(i.Table,{bordered:!0,columns:this.allColumnsConfig,dataSource:r,loading:n,pagination:{pageSizeOptions:["5","10","20"],showSizeChanger:!0,showTotal:function(e,t){return t[0]+"-"+t[1]+" of "+e+" items"}}})))),o.default.createElement(s.default,{ref:function(t){return e._applyJoinBZGView=t},onConfirm:this._handleApplyJoinBZGConfirm}))}}]),t}();t.default=b},694:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=(a=r)&&a.__esModule?a:{default:a},i=n(24);n(740);var u=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={},n._searchValue=void 0,n._handleSearchBtnClick=n._handleSearchBtnClick.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.PureComponent),l(t,[{key:"_handleSearchBtnClick",value:function(e){e&&e.stopPropagation();var t=this.props.onSearchBtnClick,n=this._searchValue.input.value;t&&t(n)}},{key:"render",value:function(){var e=this,t=this.props,n=t.placeholder,a=void 0===n?"":n,l=t.label,r=t.buttonText,u=void 0===r?"查询":r,c=t.inputWidth,s=void 0===c?200:c,f=t.className,d=t.style;return o.default.createElement("div",{className:"search-input-view-container"+(f?" "+f:""),style:d},l?o.default.createElement("label",{className:"search-input-label"},l):void 0,o.default.createElement(i.Input,{ref:function(t){return e._searchValue=t},className:"search-input-input",style:{width:s},placeholder:a}),o.default.createElement(i.Button,{className:"search-input-btn",onClick:this._handleSearchBtnClick},u))}}]),t}();t.default=u},695:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(1),o=(a=r)&&a.__esModule?a:{default:a},i=n(24);n(742);var u=i.Select.Option,c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1,groupName:""},n.roleType="owner",n.commentValue="",n._commentView=void 0,n._handleApplyBZViewOk=n._handleApplyBZViewOk.bind(n),n._handleApplyBZViewCancel=n._handleApplyBZViewCancel.bind(n),n._handleSelectorChange=n._handleSelectorChange.bind(n),n._handleCommentChange=n._handleCommentChange.bind(n),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),l(t,[{key:"open",value:function(e){var t=e.groupName;this.commentValue="",this.roleType="owner",this.bzData=e,this.setState({groupName:t,visible:!0})}},{key:"close",value:function(){this.setState({visible:!1})}},{key:"getValues",value:function(){var e=this.state.groupName;return{bzData:this.bzData,groupName:e,roleType:this.roleType,commentValue:this.commentValue}}},{key:"_handleApplyBZViewOk",value:function(){if(this.commentValue){var e=this.props,t=e.onConfirm,n=e.closeOnConfirm,a=this.state.groupName;t&&t({bzData:this.bzData,groupName:a,roleType:this.roleType,commentValue:this.commentValue}),n&&this.close()}}},{key:"_handleApplyBZViewCancel",value:function(){this.close()}},{key:"_handleSelectorChange",value:function(e){this.roleType=e}},{key:"_handleCommentChange",value:function(){this.commentValue=this._commentView.value}},{key:"render",value:function(){var e=this,t=this.state,n=t.visible,a=t.groupName,l=o.default.createElement("div",{style:{fontSize:12}},o.default.createElement("div",null,"项目owner：最高操作权限，负责业务内操作工单审批"),o.default.createElement("div",null,"项目管理员：查看该项目下风控列表，权限管理，操作需owner审批"),o.default.createElement("div",null,"项目成员：查看该项目下风控列表"));return o.default.createElement(i.Modal,{title:"申请加入业务组",visible:n,maskClosable:!1,okText:"确认",cancelText:"取消",centered:!0,destroyOnClose:!0,closable:!1,onOk:this._handleApplyBZViewOk,onCancel:this._handleApplyBZViewCancel},o.default.createElement("div",{className:"apply-join-bz-container"},o.default.createElement("div",{className:"bz-item"},o.default.createElement("div",{className:"bz-item-label"},o.default.createElement("span",{className:"item-import"},"*"),o.default.createElement("span",{className:"item-key"},"业务组名称")),o.default.createElement("span",{className:"bz-item-value"},a)),o.default.createElement("div",{className:"bz-item"},o.default.createElement("div",{className:"bz-item-label v-top"},o.default.createElement("span",{className:"item-import"},"*"),o.default.createElement("span",{className:"item-key"},"角色类型")),o.default.createElement("div",{className:"bz-item-value"},o.default.createElement(i.Select,{className:"bz-item-select",defaultValue:"owner",onChange:this._handleSelectorChange},[{label:"项目owner",value:"owner"},{label:"项目管理员",value:"master"},{label:"项目成员",value:"member"}].map(function(e,t){return o.default.createElement(u,{key:t,value:e.value},e.label)})),o.default.createElement(i.Popover,{className:"role-tips",trigger:"hover",content:l,placement:"right"},o.default.createElement(i.Icon,{type:"info-circle"})))),o.default.createElement("div",{className:"bz-item"},o.default.createElement("div",{className:"bz-item-label v-top"},o.default.createElement("span",{className:"item-import"},"*"),o.default.createElement("span",{className:"item-key"},"备注")),o.default.createElement("div",{className:"bz-item-value"},o.default.createElement("textarea",{className:"bz-item-comment",ref:function(t){return e._commentView=t},onChange:this._handleCommentChange})))))}}]),t}();t.default=c},696:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,l=n(101),r=(a=l)&&a.__esModule?a:{default:a};var o={getMyBZGList:function(){return r.default.getMyGroupList().then(function(e){return e})},getAllBZGList:function(){return r.default.getAllGroupList().then(function(e){return e})}};t.default=o},697:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=[{title:"编号",key:"groupId",sorter:!0},{title:"英文简称",key:"groupEnName",sorter:!0},{title:"名称",key:"groupName",sorter:!0},{title:"负责人",key:"owner",sorter:!0},{title:"创建时间",key:"createTime",sorter:!0},{title:"最后更新时间",key:"updateTime",sorter:!0},{title:"操作",key:"action"}]},740:function(e,t){},742:function(e,t){},744:function(e,t){}});